int main(int argc, char *argv[]) {
  unsigned int syscall_nr = 60;
  int exit_status = 42;

//  asm ("movl %0, %%eax\n"
//      "movl %1, %%ebx\n"
//      "int $0x80"
//      : /* output parameters, we aren't outputting anything, no none */
//      /* (none) */
//      : /* input parameters mapped to %0 and %1, repsectively */
//      "m" (syscall_nr), "m" (exit_status)
//      : /* registers that we are "clobbering", unneeded since we are calling exit */
//      "eax", "ebx");

  asm ("movq %0, %%rax\n"
      "movq %1, %%rdi\n"
      "syscall"
      : /* output parameters, we aren't outputting anything, no none */
      /* (none) */
      : /* input parameters mapped to %0 and %1, repsectively */
      "m" (syscall_nr), "m" (exit_status)
      : /* registers that we are "clobbering", unneeded since we are calling exit */
      "rax", "rdi");

#include <stdio.h>
#include <sys/types.h>
#include <unistd.h>


  int i;
  for(i=0; i<2; i++){
    fork();
    printf("-");
  }

  wait(NULL);
  wait(NULL);

  return 0;
}
